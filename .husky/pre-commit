#!/usr/bin/env sh
set -e
. "$(dirname -- "$0")/_/husky.sh"

echo "Hello Learn ReactJs For Tai Dev"

# Run lint-staged or other pre-commit tasks
npm run lint-staged

# Infomation for me success or error
echo "---- Oh my good prefetch ğŸ”¥ ----"

# Láº¥y commit message tá»« command line arguments
COMMIT_MESSAGE="$1"

# Kiá»ƒm tra xem commit message chá»©a "feat" hoáº·c "feature" khÃ´ng
if echo "$COMMIT_MESSAGE" | grep -qiE "(feat|feature)"; then
  # Xuáº¥t biáº¿n mÃ´i trÆ°á»ng Ä‘á»ƒ thÃ´ng bÃ¡o vá» viá»‡c tÄƒng version
  export VERSION_BUMPED=true
  # Cháº¡y standard-version Ä‘á»ƒ tÄƒng version
  npx standard-version
else
  # Commit message khÃ´ng chá»©a "feat" hoáº·c "feature"
  echo "Commit message must contain 'feat' or 'feature'."
fi

# Push to remote repository (origin) on successful commit
git push origin HEAD
